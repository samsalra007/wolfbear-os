#! /bin/bash

echo "[STEP BEGIN] app-hello-world compilation start"
echo 1

echo "- Configuring pkg config path"
sleep 1

PKG_CONFIG_PATH="${PKG_EXTERNAL_PATH}/usr/lib/pkgconfig"

echo "- Compiling hello world application aarch64-linux-musl-gcc"
sleep 1

aarch64-linux-musl-gcc \
  -static \
  -o "${WOLFBEAR_APPS_PATH}/sdl_hello/sdl_hello.wbapp" \
  "${WOLFBEAR_APPS_PATH}/sdl_hello/sdl_hello.c" \
  --sysroot="$PKG_EXTERNAL_PATH" \
  -I"$PKG_EXTERNAL_PATH/usr/include" \
  -L"$PKG_EXTERNAL_PATH/usr/lib" \
  -lSDL2 \
  -lm

echo "- Compilation finished"
sleep 1

echo "[STEP END] app-hello-world compilation success"
sleep 1
