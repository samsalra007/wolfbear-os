#! /bin/sh
set -euo pipefail

source ./globals

echo "Downloading linux kernel from wolfbear-os repository"

if [ "$SYS_ARCH" == "amd64" ]; then
  REMOTE_IMAGE_NAME="bzImage";
elif [ "$SYS_ARCH" == "arm64" ]; then
  REMOTE_IMAGE_NAME="Image";
else
  echo "Unsupported architecture: $SYS_ARCH"
  exit 1
fi

wget -O "$LINUX_KERNEL_DEPENDENCY_COMPILED_FILENAME_DIR" \
  "http://os.wolfbear.mx/wolfbear-os_1.0/linux/$SYS_ARCH/6.17/$REMOTE_IMAGE_NAME"

wget -O "$APK_DEPENDENCY_COMPRESSED_FILENAME_DIR" \
  "http://os.wolfbear.mx/wolfbear-os_1.0/apk.zip"

echo "Dependencies downloaded successfully."