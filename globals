#!/bin/sh

export SYS_ARCH=$(uname -m)
if [ "$SYS_ARCH" = 'aarch64' ] || [ "$SYS_ARCH" = 'arm64' ]; then
	SYS_ARCH='aarch64'
else 
	SYS_ARCH='amd64'
fi

export WOLFBEAR_VERSION="1.0"
export WOLFBEAR_FULL_NAME="wolfbear-os_$WOLFBEAR_VERSION"

export ROOT_DIR="$(pwd)"
export INITRAMFS_INSTALLER_DIR="$ROOT_DIR/initramfs"
export INITRAMFS_INSTALLER_OVERLAY_DIR="$ROOT_DIR/initramfs/overlay"
export INITRAMFS_OUTPUT_DIR="$ROOT_DIR/output/$WOLFBEAR_FULL_NAME/initramfs"

export LINUX_KERNEL_DEPENDENCY_DIR="$ROOT_DIR/dependencies/$WOLFBEAR_FULL_NAME/linux"
export BUSYBOX_DEPENDENCY_DIR="$ROOT_DIR/dependencies/$WOLFBEAR_FULL_NAME/busybox"

export DISK_IMAGE_MOUNT_DIR="$ROOT_DIR/output/$WOLFBEAR_FULL_NAME/disk-image-temp"

export DISK_IMAGE_MOUNT_EFI_DIR="$DISK_IMAGE_MOUNT_DIR/EFI_SYSTEM_PARTITION"
export DISK_IMAGE_MOUNT_ROOTFS_DIR="$DISK_IMAGE_MOUNT_DIR/ROOTFS_FILESYSTEM_PARTITION"
export DISK_IMAGE_MOUNT_RESOURCES_DIR="$DISK_IMAGE_MOUNT_DIR/RESOURCES"

export DISK_IMAGE_SIZE=2048
export DISK_IMAGE_NAME="$WOLFBEAR_FULL_NAME-diskimage.img"
export DISK_IMAGE_OUTPUT_DIR="$ROOT_DIR/output/$WOLFBEAR_FULL_NAME/disk-image"
export DISK_IMAGE_NAME_DIR_IMG="$ROOT_DIR/output/$WOLFBEAR_FULL_NAME/$DISK_IMAGE_NAME"

export ROOTFS_OVERLAY_DIR="$ROOT_DIR/rootfs/overlay"